dataset_name: organic
dim_coords: 3
root_path: ${oc.env:PROJECT_ROOT}/data/organic
prop: density
num_targets: 1
# prop: scaled_lattice
# num_targets: 6
niggli: true
primitive: False
graph_method: custom
lattice_scale_method: scale_length
preprocess_workers: 30
readout: mean
max_atoms: 100
otf_graph: false
eval_model_name: mp20
tolerance: 0.1

use_space_group: false
use_pos_index: false
train_max_epochs: 3000
early_stopping_patience: 300000
teacher_forcing_max_epoch: 50


datamodule:
  _target_: diffcsp.pl_data.datamodule.CrystDataModule

  datasets:
    train:
      _target_: diffcsp.pl_data.dataset.CrystDataset
      name: OrganicTrainSet
      path: ${oc.env:PROJECT_ROOT}/data/organic/train_drug.csv
#      save_path: ${oc.env:PROJECT_ROOT}/data/organic/train_organic/
      save_path: ${oc.env:PROJECT_ROOT}/data/organic/train_organic_drug.pt
      prop: density
      niggli: false
      primitive: false
      graph_method: custom
      preprocess_prebuilt: true  # <- added to skip preprocessing
      tolerance: 0.01
      use_space_group: false
      use_pos_index: false
      lattice_scale_method: scale_length
      preprocess_workers: 30

    val:
      - _target_: diffcsp.pl_data.dataset.CrystDataset
        name: OrganicValSet
        path: ${oc.env:PROJECT_ROOT}/data/organic/val_drug.csv
#        save_path: ${oc.env:PROJECT_ROOT}/data/organic/val_organic/
        save_path: ${oc.env:PROJECT_ROOT}/data/organic/val_organic_drug.pt
        prop: density
        niggli: false
        primitive: false
        graph_method: custom
        preprocess_prebuilt: true
        tolerance: 0.01
        use_space_group: false
        use_pos_index: false
        lattice_scale_method: scale_length
        preprocess_workers: 30

    test:
      - _target_: diffcsp.pl_data.dataset.CrystDataset
        name: OrganicTestSet
        path: ${oc.env:PROJECT_ROOT}/data/organic/polymorphics_subset.csv
#        save_path: ${oc.env:PROJECT_ROOT}/data/organic/test_organic/
        save_path: ${oc.env:PROJECT_ROOT}/data/organic/polymorphics.pt
        prop: density
        niggli: false
        primitive: false
        graph_method: custom
        preprocess_prebuilt: true
        tolerance: 0.01
        use_space_group: false
        use_pos_index: false
        lattice_scale_method: scale_length
        preprocess_workers: 30

  num_workers:
    train: 1
    val: 1
    test: 1

  batch_size:
    train: 512
    val: 256
    test: 256
